# OpenOCD configuration that forces connection despite examination failure

# Use ST-LINK interface
source [find interface/stlink.cfg]

# The target MCU
source [find target/stm32f4x.cfg]

# Configure GDB server to use the port that VS Code expects
gdb port 61234

# Additional configuration to work around examination issues
stm32f4x.cpu configure -work-area-phys 0x20000000 -work-area-size 0x2000 -work-area-backup 0

# Try to force halt and reset
init
reset halt

